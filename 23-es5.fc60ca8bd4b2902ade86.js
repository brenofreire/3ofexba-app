function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function _createClass(n,t,e){return t&&_defineProperties(n.prototype,t),e&&_defineProperties(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"0ygI":function(n,t,e){"use strict";e.d(t,"a",(function(){return i}));var r=e("mrSG"),o=e("fXoL"),a=e("TEn/"),i=function(){var n=function(){function n(t,e,r){_classCallCheck(this,n),this.toastCtrl=t,this.loaderCtrl=e,this.alertCtrl=r}return _createClass(n,[{key:"mostrarToast",value:function(n,t){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastCtrl.create({message:n,duration:3e3,position:t||"top"});case 2:return r=e.sent,e.next=5,r.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"mostrarLoader",value:function(n){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loaderCtrl.create({message:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"mostrarAlert",value:function(n,t){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({header:n,subHeader:t,buttons:["Ok"]});case 2:return r=e.sent,e.next=5,r.present();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"validateEmail",value:function(n){return/\S+@\S+\.\S+/.test(n)}}]),n}();return n.\u0275fac=function(t){return new(t||n)(o.Rb(a.O),o.Rb(a.I),o.Rb(a.b))},n.\u0275prov=o.Gb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()},F4UR:function(n,t,e){"use strict";e.r(t),e.d(t,"LoginPageModule",(function(){return I}));var r=e("ofXK"),o=e("3Pt+"),a=e("TEn/"),i=e("tyNb"),c=e("mrSG"),s=e("fXoL"),l=e("on2l"),u=e("0ygI"),b=e("e8h1"),f=e("+IWd");function d(n,t){1&n&&s.Lb(0,"app-button-demolay",13)}function g(n,t){if(1&n){var e=s.Ob();s.Nb(0,"div",5),s.Nb(1,"ion-label"),s.lc(2,"Nome"),s.Mb(),s.Nb(3,"ion-input",6),s.Vb("ngModelChange",(function(n){return s.fc(e),s.Xb().informacoesUsuario.nome=n})),s.Mb(),s.Mb()}if(2&n){var r=s.Xb();s.zb(3),s.cc("ngModel",r.informacoesUsuario.nome)}}function m(n,t){if(1&n){var e=s.Ob();s.Nb(0,"div",5),s.Nb(1,"ion-label"),s.lc(2,"ID Demolay"),s.Mb(),s.Nb(3,"ion-input",6),s.Vb("ngModelChange",(function(n){return s.fc(e),s.Xb().informacoesUsuario.id_demolay=n})),s.Mb(),s.Mb()}if(2&n){var r=s.Xb();s.zb(3),s.cc("ngModel",r.informacoesUsuario.id_demolay)}}function p(n,t){if(1&n){var e=s.Ob();s.Nb(0,"div",5),s.Nb(1,"ion-label"),s.lc(2,"N\xfamero do cap\xedtulo"),s.Mb(),s.Nb(3,"ion-input",6),s.Vb("ngModelChange",(function(n){return s.fc(e),s.Xb().informacoesUsuario.capitulo=n})),s.Mb(),s.Mb()}if(2&n){var r=s.Xb();s.zb(3),s.cc("ngModel",r.informacoesUsuario.capitulo)}}function C(n,t){if(1&n){var e=s.Ob();s.Nb(0,"ion-fab-button",14),s.Vb("click",(function(){return s.fc(e),s.Xb().login()})),s.Lb(1,"ion-icon",15),s.Mb()}}function v(n,t){1&n&&s.Lb(0,"ion-icon",19)}function h(n,t){1&n&&(s.Nb(0,"ion-label"),s.lc(1,"Cadastrar"),s.Mb())}function M(n,t){if(1&n){var e=s.Ob();s.Nb(0,"ion-button",16),s.Vb("click",(function(){return s.fc(e),s.Xb().cadastro()})),s.kc(1,v,1,0,"ion-icon",17),s.kc(2,h,2,0,"ion-label",18),s.Mb()}if(2&n){var r=s.Xb();s.zb(1),s.cc("ngIf",r.isCadastro),s.zb(1),s.cc("ngIf",r.isCadastro)}}function k(n,t){if(1&n){var e=s.Ob();s.Nb(0,"ion-button",20),s.Vb("click",(function(){return s.fc(e),s.Xb().isCadastro=!0})),s.Lb(1,"ion-icon",21),s.lc(2," Cadastre-se "),s.Mb()}}function O(n,t){if(1&n){var e=s.Ob();s.Nb(0,"ion-button",20),s.Vb("click",(function(){return s.fc(e),s.Xb().isCadastro=!1})),s.Lb(1,"ion-icon",22),s.lc(2," Voltar para login "),s.Mb()}}var x,_,P,w=[{path:"",component:(x=function(){function n(t,e,r,o){_classCallCheck(this,n),this.usuarioCtrl=t,this.utilsCtrl=e,this.routerCtrl=r,this.storage=o,this.informacoesUsuario={},this.isCadastro=!1}return _createClass(n,[{key:"ngOnInit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.storage.get("usuario");case 2:return t=n.sent,e=t&&this.usuarioCtrl.getHomeRoute(t.role)||"",n.next=6,this.routerCtrl.navigateByUrl(e);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"login",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.utilsCtrl.validateEmail(this.informacoesUsuario.email)){n.next=24;break}return n.next=3,this.utilsCtrl.mostrarLoader("Verificando credenciais...");case 3:return t=n.sent,n.next=6,t.present();case 6:return n.prev=6,n.next=9,this.usuarioCtrl.login(this.informacoesUsuario);case 9:return e=n.sent,n.next=12,this.goTo(this.usuarioCtrl.getHomeRoute(e.role));case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(6),n.next=18,this.utilsCtrl.mostrarAlert("Houve um erro!",n.t0&&n.t0.mensagem||"Erro ao fazer login, tente novamente mais tarde");case 18:return n.prev=18,n.next=21,t.dismiss();case 21:return n.finish(18);case 22:n.next=26;break;case 24:return n.next=26,this.utilsCtrl.mostrarToast("Email inv\xe1lido");case 26:case"end":return n.stop()}}),n,this,[[6,14,18,22]])})))}},{key:"cadastro",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.utilsCtrl.validateEmail(this.informacoesUsuario.email)){n.next=14;break}return n.prev=1,n.next=4,this.usuarioCtrl.cadastro(this.informacoesUsuario);case 4:return n.next=6,this.utilsCtrl.mostrarAlert("Conta criada com sucesso!","Aguarde a aprova\xe7\xe3o da nossa equipe antes de logar");case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,this.utilsCtrl.mostrarAlert("Houve um erro!",n.t0&&n.t0.mensagem||"Erro ao cadastrar, tente novamente mais tarde");case 12:n.next=16;break;case 14:return n.next=16,this.utilsCtrl.mostrarToast("Email inv\xe1lido");case 16:case"end":return n.stop()}}),n,this,[[1,8]])})))}},{key:"goTo",value:function(n){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.routerCtrl.navigateByUrl(n);case 2:case"end":return t.stop()}}),t,this)})))}}]),n}(),x.\u0275fac=function(n){return new(n||x)(s.Kb(l.a),s.Kb(u.a),s.Kb(i.g),s.Kb(b.b))},x.\u0275cmp=s.Eb({type:x,selectors:[["app-login"]],decls:30,vars:10,consts:[["id","forms-login-cadastro"],[1,"login-wrapper"],["icon","demolay",4,"ngIf"],[1,"form-login-cadastro"],["class","input-azul",4,"ngIf"],[1,"input-azul"],[3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],[3,"click",4,"ngIf"],["expand","block","fill","outline",3,"click",4,"ngIf"],[1,"form-opcoes"],["fill","clear",3,"click",4,"ngIf"],[1,"creditos"],["icon","demolay"],[3,"click"],["name","play"],["expand","block","fill","outline",3,"click"],["name","create","slot","start",4,"ngIf"],[4,"ngIf"],["name","create","slot","start"],["fill","clear",3,"click"],["name","person-circle","slot","start"],["name","arrow-back","slot","start"]],template:function(n,t){1&n&&(s.Nb(0,"ion-content"),s.Nb(1,"section",0),s.Nb(2,"div",1),s.kc(3,d,1,0,"app-button-demolay",2),s.Nb(4,"div",3),s.kc(5,g,4,1,"div",4),s.Nb(6,"div",5),s.Nb(7,"ion-label"),s.lc(8,"Email"),s.Mb(),s.Nb(9,"ion-input",6),s.Vb("ngModelChange",(function(n){return t.informacoesUsuario.email=n})),s.Mb(),s.Mb(),s.Nb(10,"div",5),s.Nb(11,"ion-label"),s.lc(12,"Senha"),s.Mb(),s.Nb(13,"ion-input",7),s.Vb("ngModelChange",(function(n){return t.informacoesUsuario.password=n})),s.Mb(),s.Mb(),s.kc(14,m,4,1,"div",4),s.kc(15,p,4,1,"div",4),s.kc(16,C,2,0,"ion-fab-button",8),s.kc(17,M,3,2,"ion-button",9),s.Mb(),s.Nb(18,"div",10),s.kc(19,k,3,0,"ion-button",11),s.kc(20,O,3,0,"ion-button",11),s.Mb(),s.Nb(21,"ion-text",12),s.Nb(22,"span"),s.lc(23,"Feito por Demolays para Demolays"),s.Mb(),s.Nb(24,"small"),s.lc(25,"Desenvolvimento: Breno Freire"),s.Mb(),s.Nb(26,"small"),s.lc(27,"Design: Pedro Franco"),s.Mb(),s.Nb(28,"small"),s.lc(29,"Idealiza\xe7\xe3o: Filipe Carvalho e Rafael Pessoa"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&n&&(s.zb(3),s.cc("ngIf",!t.isCadastro),s.zb(2),s.cc("ngIf",t.isCadastro),s.zb(4),s.cc("ngModel",t.informacoesUsuario.email),s.zb(4),s.cc("ngModel",t.informacoesUsuario.password),s.zb(1),s.cc("ngIf",t.isCadastro),s.zb(1),s.cc("ngIf",t.isCadastro),s.zb(1),s.cc("ngIf",!t.isCadastro),s.zb(1),s.cc("ngIf",t.isCadastro),s.zb(2),s.cc("ngIf",!t.isCadastro),s.zb(1),s.cc("ngIf",t.isCadastro))},directives:[a.h,r.j,a.r,a.p,a.N,o.d,o.e,a.C,f.a,a.j,a.m,a.f],styles:["#forms-login-cadastro[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;justify-content:center}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{padding:0 24px;display:flex;flex-direction:column;align-items:center}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   app-button-demolay[_ngcontent-%COMP%]{width:150px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]{margin-top:24px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]   .input-azul[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]   .input-azul[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:6px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]   .input-azul[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background:var(--ion-color-primary);border-radius:8px;box-shadow:0 0 3px var(--ion-color-step-50);min-width:270px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{margin:16px auto}#forms-login-cadastro[_ngcontent-%COMP%]   .creditos[_ngcontent-%COMP%]{color:var(--ion-color-step-600);text-align:center;display:block}#forms-login-cadastro[_ngcontent-%COMP%]   .creditos[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block}#forms-login-cadastro[_ngcontent-%COMP%]   .creditos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:bolder}#forms-login-cadastro[_ngcontent-%COMP%]   .creditos[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px}"]}),x)}],y=((_=function n(){_classCallCheck(this,n)}).\u0275mod=s.Ib({type:_}),_.\u0275inj=s.Hb({factory:function(n){return new(n||_)},imports:[[i.i.forChild(w)],i.i]}),_),N=e("j1ZV"),I=((P=function n(){_classCallCheck(this,n)}).\u0275mod=s.Ib({type:P}),P.\u0275inj=s.Hb({factory:function(n){return new(n||P)},imports:[[r.b,o.a,a.G,y,N.a]]}),P)}}]);