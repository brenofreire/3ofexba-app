(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"0ygI":function(o,n,t){"use strict";t.d(n,"a",(function(){return a}));var i=t("mrSG"),e=t("fXoL"),r=t("TEn/");let a=(()=>{class o{constructor(o,n,t){this.toastCtrl=o,this.loaderCtrl=n,this.alertCtrl=t}mostrarToast(o,n){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.toastCtrl.create({message:o,duration:3e3,position:n||"top"});return yield t.present()}))}mostrarLoader(o){return Object(i.a)(this,void 0,void 0,(function*(){return yield this.loaderCtrl.create({message:o})}))}mostrarAlert(o,n){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({header:o,subHeader:n,buttons:["Ok"]});return yield t.present()}))}validateEmail(o){return/\S+@\S+\.\S+/.test(o)}}return o.\u0275fac=function(n){return new(n||o)(e.Rb(r.O),e.Rb(r.I),e.Rb(r.b))},o.\u0275prov=e.Gb({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},F4UR:function(o,n,t){"use strict";t.r(n),t.d(n,"LoginPageModule",(function(){return k}));var i=t("ofXK"),e=t("3Pt+"),r=t("TEn/"),a=t("tyNb"),c=t("mrSG"),s=t("fXoL"),l=t("on2l"),b=t("0ygI"),d=t("e8h1"),u=t("+IWd");function g(o,n){1&o&&s.Lb(0,"app-button-demolay",13)}function f(o,n){if(1&o){const o=s.Ob();s.Nb(0,"div",5),s.Nb(1,"ion-label"),s.lc(2,"Nome"),s.Mb(),s.Nb(3,"ion-input",6),s.Vb("ngModelChange",(function(n){return s.fc(o),s.Xb().informacoesUsuario.nome=n})),s.Mb(),s.Mb()}if(2&o){const o=s.Xb();s.zb(3),s.cc("ngModel",o.informacoesUsuario.nome)}}function m(o,n){if(1&o){const o=s.Ob();s.Nb(0,"div",5),s.Nb(1,"ion-label"),s.lc(2,"ID Demolay"),s.Mb(),s.Nb(3,"ion-input",6),s.Vb("ngModelChange",(function(n){return s.fc(o),s.Xb().informacoesUsuario.id_demolay=n})),s.Mb(),s.Mb()}if(2&o){const o=s.Xb();s.zb(3),s.cc("ngModel",o.informacoesUsuario.id_demolay)}}function p(o,n){if(1&o){const o=s.Ob();s.Nb(0,"div",5),s.Nb(1,"ion-label"),s.lc(2,"N\xfamero do cap\xedtulo"),s.Mb(),s.Nb(3,"ion-input",6),s.Vb("ngModelChange",(function(n){return s.fc(o),s.Xb().informacoesUsuario.capitulo=n})),s.Mb(),s.Mb()}if(2&o){const o=s.Xb();s.zb(3),s.cc("ngModel",o.informacoesUsuario.capitulo)}}function C(o,n){if(1&o){const o=s.Ob();s.Nb(0,"ion-fab-button",14),s.Vb("click",(function(){return s.fc(o),s.Xb().login()})),s.Lb(1,"ion-icon",15),s.Mb()}}function M(o,n){1&o&&s.Lb(0,"ion-icon",19)}function h(o,n){1&o&&(s.Nb(0,"ion-label"),s.lc(1,"Cadastrar"),s.Mb())}function O(o,n){if(1&o){const o=s.Ob();s.Nb(0,"ion-button",16),s.Vb("click",(function(){return s.fc(o),s.Xb().cadastro()})),s.kc(1,M,1,0,"ion-icon",17),s.kc(2,h,2,0,"ion-label",18),s.Mb()}if(2&o){const o=s.Xb();s.zb(1),s.cc("ngIf",o.isCadastro),s.zb(1),s.cc("ngIf",o.isCadastro)}}function y(o,n){if(1&o){const o=s.Ob();s.Nb(0,"ion-button",20),s.Vb("click",(function(){return s.fc(o),s.Xb().isCadastro=!0})),s.Lb(1,"ion-icon",21),s.lc(2," Cadastre-se "),s.Mb()}}function v(o,n){if(1&o){const o=s.Ob();s.Nb(0,"ion-button",20),s.Vb("click",(function(){return s.fc(o),s.Xb().isCadastro=!1})),s.Lb(1,"ion-icon",22),s.lc(2," Voltar para login "),s.Mb()}}const P=[{path:"",component:(()=>{class o{constructor(o,n,t,i){this.usuarioCtrl=o,this.utilsCtrl=n,this.routerCtrl=t,this.storage=i,this.informacoesUsuario={},this.isCadastro=!1}ngOnInit(){return Object(c.a)(this,void 0,void 0,(function*(){const o=yield this.storage.get("usuario"),n=o&&this.usuarioCtrl.getHomeRoute(o.role)||"";yield this.routerCtrl.navigateByUrl(n)}))}login(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.utilsCtrl.validateEmail(this.informacoesUsuario.email)){const n=yield this.utilsCtrl.mostrarLoader("Verificando credenciais...");yield n.present();try{const o=yield this.usuarioCtrl.login(this.informacoesUsuario);yield this.goTo(this.usuarioCtrl.getHomeRoute(o.role))}catch(o){yield this.utilsCtrl.mostrarAlert("Houve um erro!",o&&o.mensagem||"Erro ao fazer login, tente novamente mais tarde")}finally{yield n.dismiss()}}else yield this.utilsCtrl.mostrarToast("Email inv\xe1lido")}))}cadastro(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.utilsCtrl.validateEmail(this.informacoesUsuario.email))try{yield this.usuarioCtrl.cadastro(this.informacoesUsuario),yield this.utilsCtrl.mostrarAlert("Conta criada com sucesso!","Aguarde a aprova\xe7\xe3o da nossa equipe antes de logar")}catch(o){yield this.utilsCtrl.mostrarAlert("Houve um erro!",o&&o.mensagem||"Erro ao cadastrar, tente novamente mais tarde")}else yield this.utilsCtrl.mostrarToast("Email inv\xe1lido")}))}goTo(o){return Object(c.a)(this,void 0,void 0,(function*(){yield this.routerCtrl.navigateByUrl(o)}))}}return o.\u0275fac=function(n){return new(n||o)(s.Kb(l.a),s.Kb(b.a),s.Kb(a.g),s.Kb(d.b))},o.\u0275cmp=s.Eb({type:o,selectors:[["app-login"]],decls:30,vars:10,consts:[["id","forms-login-cadastro"],[1,"login-wrapper"],["icon","demolay",4,"ngIf"],[1,"form-login-cadastro"],["class","input-azul",4,"ngIf"],[1,"input-azul"],[3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],[3,"click",4,"ngIf"],["expand","block","fill","outline",3,"click",4,"ngIf"],[1,"form-opcoes"],["fill","clear",3,"click",4,"ngIf"],[1,"creditos"],["icon","demolay"],[3,"click"],["name","play"],["expand","block","fill","outline",3,"click"],["name","create","slot","start",4,"ngIf"],[4,"ngIf"],["name","create","slot","start"],["fill","clear",3,"click"],["name","person-circle","slot","start"],["name","arrow-back","slot","start"]],template:function(o,n){1&o&&(s.Nb(0,"ion-content"),s.Nb(1,"section",0),s.Nb(2,"div",1),s.kc(3,g,1,0,"app-button-demolay",2),s.Nb(4,"div",3),s.kc(5,f,4,1,"div",4),s.Nb(6,"div",5),s.Nb(7,"ion-label"),s.lc(8,"Email"),s.Mb(),s.Nb(9,"ion-input",6),s.Vb("ngModelChange",(function(o){return n.informacoesUsuario.email=o})),s.Mb(),s.Mb(),s.Nb(10,"div",5),s.Nb(11,"ion-label"),s.lc(12,"Senha"),s.Mb(),s.Nb(13,"ion-input",7),s.Vb("ngModelChange",(function(o){return n.informacoesUsuario.password=o})),s.Mb(),s.Mb(),s.kc(14,m,4,1,"div",4),s.kc(15,p,4,1,"div",4),s.kc(16,C,2,0,"ion-fab-button",8),s.kc(17,O,3,2,"ion-button",9),s.Mb(),s.Nb(18,"div",10),s.kc(19,y,3,0,"ion-button",11),s.kc(20,v,3,0,"ion-button",11),s.Mb(),s.Nb(21,"ion-text",12),s.Nb(22,"span"),s.lc(23,"Feito por Demolays para Demolays"),s.Mb(),s.Nb(24,"small"),s.lc(25,"Desenvolvimento: Breno Freire"),s.Mb(),s.Nb(26,"small"),s.lc(27,"Design: Pedro Franco"),s.Mb(),s.Nb(28,"small"),s.lc(29,"Idealiza\xe7\xe3o: Filipe Carvalho e Rafael Pessoa"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&o&&(s.zb(3),s.cc("ngIf",!n.isCadastro),s.zb(2),s.cc("ngIf",n.isCadastro),s.zb(4),s.cc("ngModel",n.informacoesUsuario.email),s.zb(4),s.cc("ngModel",n.informacoesUsuario.password),s.zb(1),s.cc("ngIf",n.isCadastro),s.zb(1),s.cc("ngIf",n.isCadastro),s.zb(1),s.cc("ngIf",!n.isCadastro),s.zb(1),s.cc("ngIf",n.isCadastro),s.zb(2),s.cc("ngIf",!n.isCadastro),s.zb(1),s.cc("ngIf",n.isCadastro))},directives:[r.h,i.j,r.r,r.p,r.N,e.d,e.e,r.C,u.a,r.j,r.m,r.f],styles:["#forms-login-cadastro[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;justify-content:center}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{padding:0 24px;display:flex;flex-direction:column;align-items:center}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   app-button-demolay[_ngcontent-%COMP%]{width:150px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]{margin-top:24px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]   .input-azul[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]   .input-azul[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:6px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]   .input-azul[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background:var(--ion-color-primary);border-radius:8px;box-shadow:0 0 3px var(--ion-color-step-50);min-width:270px}#forms-login-cadastro[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]   .form-login-cadastro[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{margin:16px auto}#forms-login-cadastro[_ngcontent-%COMP%]   .creditos[_ngcontent-%COMP%]{color:var(--ion-color-step-600);text-align:center;display:block}#forms-login-cadastro[_ngcontent-%COMP%]   .creditos[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block}#forms-login-cadastro[_ngcontent-%COMP%]   .creditos[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:bolder}#forms-login-cadastro[_ngcontent-%COMP%]   .creditos[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:12px}"]}),o})()}];let _=(()=>{class o{}return o.\u0275mod=s.Ib({type:o}),o.\u0275inj=s.Hb({factory:function(n){return new(n||o)},imports:[[a.i.forChild(P)],a.i]}),o})();var N=t("j1ZV");let k=(()=>{class o{}return o.\u0275mod=s.Ib({type:o}),o.\u0275inj=s.Hb({factory:function(n){return new(n||o)},imports:[[i.b,e.a,r.G,_,N.a]]}),o})()}}]);