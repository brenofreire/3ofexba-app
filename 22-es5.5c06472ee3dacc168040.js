function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0ygI":function(e,n,t){"use strict";t.d(n,"a",(function(){return i}));var r=t("mrSG"),a=t("fXoL"),o=t("TEn/"),i=function(){var e=function(){function e(n,t,r){_classCallCheck(this,e),this.toastCtrl=n,this.loaderCtrl=t,this.alertCtrl=r}return _createClass(e,[{key:"mostrarToast",value:function(e,n){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastCtrl.create({message:e,duration:3e3,position:n||"top"});case 2:return r=t.sent,t.next=5,r.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"mostrarLoader",value:function(e){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loaderCtrl.create({message:e});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"mostrarAlert",value:function(e,n){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({header:e,subHeader:n,buttons:["Ok"]});case 2:return r=t.sent,t.next=5,r.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"validateEmail",value:function(e){return/\S+@\S+\.\S+/.test(e)}}]),e}();return e.\u0275fac=function(n){return new(n||e)(a.Rb(o.O),a.Rb(o.I),a.Rb(o.b))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},V1xc:function(e,n,t){"use strict";t.r(n),t.d(n,"AgostinhoPageModule",(function(){return O}));var r,a=t("ofXK"),o=t("3Pt+"),i=t("TEn/"),s=t("tyNb"),c=t("mrSG"),u=t("fXoL"),g=t("H+bZ"),p=((r=function(){function e(n){_classCallCheck(this,e),this.apiCtrl=n}return _createClass(e,[{key:"getMensagensAgostinho",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.apiCtrl.get("agostinho?offset="+e.offset);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0;case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}}]),e}()).\u0275fac=function(e){return new(e||r)(u.Rb(g.a))},r.\u0275prov=u.Gb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),l=t("0ygI"),f=t("on2l"),h=t("+IWd");function m(e,n){if(1&e&&(u.Nb(0,"div",10),u.Nb(1,"div",11),u.Lb(2,"app-button-demolay",3),u.Mb(),u.Nb(3,"div",12),u.lc(4),u.Mb(),u.Mb(),u.Nb(5,"span",13),u.lc(6),u.Yb(7,"date"),u.Mb()),2&e){var t=n.$implicit;u.zb(4),u.nc(" ",t.mensagem," "),u.zb(2),u.mc(u.Zb(7,2,t.created_at,"HH:mm dd/MM/yyyy "))}}function b(e,n){if(1&e){var t=u.Ob();u.Nb(0,"ion-infinite-scroll",14),u.Vb("ionInfinite",(function(e){return u.fc(t),u.Xb(2).carregarMaisMensagens(e)})),u.Lb(1,"ion-infinite-scroll-content",15),u.Mb()}}function d(e,n){if(1&e&&(u.Nb(0,"div",5),u.Nb(1,"h3",6),u.lc(2),u.Mb(),u.Nb(3,"div",7),u.kc(4,m,8,5,"ng-template",8),u.Mb(),u.kc(5,b,2,0,"ion-infinite-scroll",9),u.Mb()),2&e){var t=u.Xb();u.zb(2),u.mc(t.meuCargo),u.zb(2),u.cc("ngForOf",t.mensagensAgostinho),u.zb(1),u.cc("ngIf",t.mensagensAgostinho&&t.mensagensAgostinho.length>=10)}}var v,C,x,w=[{path:"",component:(v=function(){function e(n,t,r){_classCallCheck(this,e),this.agostinhoCtrl=n,this.utilsCtrl=t,this.usuarioCtrl=r}return _createClass(e,[{key:"ngOnInit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.usuarioCtrl.getUsuariologadoObservable().subscribe((function(e){e&&(n.usuarioLogado=e)})),this.meuCargo=this.usuarioLogado&&this.usuarioCtrl.toMeuCargo({usuarioLogado:this.usuarioLogado}),e.next=4,this.inicializaPagina();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"inicializaPagina",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.agostinhoCtrl.getMensagensAgostinho({offset:this.mensagensAgostinho&&this.mensagensAgostinho.length||0});case 3:this.mensagensAgostinho=e.sent,e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(0),n=e.t0&&e.t0.mensagem||"Houve um erro ao listar mensagens do Agostinho",e.next=11,this.utilsCtrl.mostrarToast(n);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"carregarMaisMensagens",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.inicializaPagina();case 2:e.target.complete();case 3:case"end":return n.stop()}}),n,this)})))}}]),e}(),v.\u0275fac=function(e){return new(e||v)(u.Kb(p),u.Kb(l.a),u.Kb(f.a))},v.\u0275cmp=u.Eb({type:v,selectors:[["app-agostinho"]],decls:7,vars:1,consts:[[1,"ion-no-border"],["slot","start"],[1,"avatar-wrapper"],["icon","demolay"],["class","agostinho-wrapper",4,"ngIf"],[1,"agostinho-wrapper"],[1,"badge-cargo"],[1,"mensagens"],["ngFor","",3,"ngForOf"],["threshold","100px",3,"ionInfinite",4,"ngIf"],[1,"mensagem-item"],[1,"avatar-mensagem"],[1,"mensagem-box"],[1,"mensagem-hora"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","dots"]],template:function(e,n){1&e&&(u.Nb(0,"ion-header",0),u.Nb(1,"ion-toolbar"),u.Lb(2,"ion-back-button",1),u.Mb(),u.Mb(),u.Nb(3,"ion-content"),u.Nb(4,"div",2),u.Lb(5,"app-button-demolay",3),u.Mb(),u.kc(6,d,6,3,"div",4),u.Mb()),2&e&&(u.zb(6),u.cc("ngIf",n.mensagensAgostinho))},directives:[i.l,i.F,i.d,i.e,i.h,h.a,a.j,a.i,i.n,i.o],pipes:[a.d],styles:[".avatar-wrapper[_ngcontent-%COMP%]{width:100px;margin:0 auto 16px}.agostinho-wrapper[_ngcontent-%COMP%]   .badge-cargo[_ngcontent-%COMP%]{background-color:#38bd5e;color:#333;text-align:center;padding:8px 0;font-weight:700;text-transform:uppercase}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]{margin:16px auto;width:calc(100% - 32px)}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]   .mensagem-item[_ngcontent-%COMP%]{display:flex}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]   .mensagem-item[_ngcontent-%COMP%]   .avatar-mensagem[_ngcontent-%COMP%]{min-width:70px;max-width:70px;margin:8px 16px 0 0}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]   .mensagem-item[_ngcontent-%COMP%]   .mensagem-box[_ngcontent-%COMP%]{background-color:#535353;padding:8px 16px;color:#fff;border-radius:0 4px 4px 4px;width:100%;font-size:12px}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]   .mensagem-hora[_ngcontent-%COMP%]{font-size:10px;text-align:right;display:block;margin:6px 0 8px}"]}),v)}],M=((C=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ib({type:C}),C.\u0275inj=u.Hb({factory:function(e){return new(e||C)},imports:[[s.i.forChild(w)],s.i]}),C),k=t("j1ZV"),O=((x=function e(){_classCallCheck(this,e)}).\u0275mod=u.Ib({type:x}),x.\u0275inj=u.Hb({factory:function(e){return new(e||x)},imports:[[a.b,o.a,i.G,M,k.a]]}),x)}}]);