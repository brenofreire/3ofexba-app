(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"0ygI":function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var o=e("mrSG"),i=e("fXoL"),a=e("TEn/");let r=(()=>{class t{constructor(t,n,e){this.toastCtrl=t,this.loaderCtrl=n,this.alertCtrl=e}mostrarToast(t,n){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.toastCtrl.create({message:t,duration:3e3,position:n||"top"});return yield e.present()}))}mostrarLoader(t){return Object(o.a)(this,void 0,void 0,(function*(){return yield this.loaderCtrl.create({message:t})}))}mostrarAlert(t,n){return Object(o.a)(this,void 0,void 0,(function*(){const e=yield this.alertCtrl.create({header:t,subHeader:n,buttons:["Ok"]});return yield e.present()}))}validateEmail(t){return/\S+@\S+\.\S+/.test(t)}}return t.\u0275fac=function(n){return new(n||t)(i.Rb(a.P),i.Rb(a.I),i.Rb(a.b))},t.\u0275prov=i.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},V1xc:function(t,n,e){"use strict";e.r(n),e.d(n,"AgostinhoPageModule",(function(){return C}));var o=e("ofXK"),i=e("3Pt+"),a=e("TEn/"),r=e("tyNb"),s=e("mrSG"),c=e("fXoL"),g=e("H+bZ");let d=(()=>{class t{constructor(t){this.apiCtrl=t}getMensagensAgostinho(t){return Object(s.a)(this,void 0,void 0,(function*(){try{return yield this.apiCtrl.get("agostinho?offset="+t.offset)}catch(n){throw n}}))}}return t.\u0275fac=function(n){return new(n||t)(c.Rb(g.a))},t.\u0275prov=c.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=e("0ygI"),b=e("on2l"),u=e("+IWd");function p(t,n){if(1&t&&(c.Nb(0,"div",10),c.Nb(1,"div",11),c.Lb(2,"app-button-demolay",3),c.Mb(),c.Nb(3,"div",12),c.lc(4),c.Mb(),c.Mb(),c.Nb(5,"span",13),c.lc(6),c.Yb(7,"date"),c.Mb()),2&t){const t=n.$implicit;c.zb(4),c.nc(" ",t.mensagem," "),c.zb(2),c.mc(c.Zb(7,2,t.created_at,"HH:mm dd/MM/yyyy "))}}function h(t,n){if(1&t){const t=c.Ob();c.Nb(0,"ion-infinite-scroll",14),c.Vb("ionInfinite",(function(n){return c.fc(t),c.Xb(2).carregarMaisMensagens(n)})),c.Lb(1,"ion-infinite-scroll-content",15),c.Mb()}}function m(t,n){if(1&t&&(c.Nb(0,"div",5),c.Nb(1,"h3",6),c.lc(2),c.Mb(),c.Nb(3,"div",7),c.kc(4,p,8,5,"ng-template",8),c.Mb(),c.kc(5,h,2,0,"ion-infinite-scroll",9),c.Mb()),2&t){const t=c.Xb();c.zb(2),c.mc(t.meuCargo),c.zb(2),c.cc("ngForOf",t.mensagensAgostinho),c.zb(1),c.cc("ngIf",t.mensagensAgostinho&&t.mensagensAgostinho.length>=10)}}const f=[{path:"",component:(()=>{class t{constructor(t,n,e){this.agostinhoCtrl=t,this.utilsCtrl=n,this.usuarioCtrl=e}ngOnInit(){return Object(s.a)(this,void 0,void 0,(function*(){this.usuarioCtrl.getUsuariologadoObservable().subscribe(t=>{t&&(this.usuarioLogado=t)}),this.meuCargo=this.usuarioLogado&&this.usuarioCtrl.toMeuCargo({usuarioLogado:this.usuarioLogado}),yield this.inicializaPagina()}))}inicializaPagina(){return Object(s.a)(this,void 0,void 0,(function*(){try{this.mensagensAgostinho=yield this.agostinhoCtrl.getMensagensAgostinho({offset:this.mensagensAgostinho&&this.mensagensAgostinho.length||0})}catch(t){const n=t&&t.mensagem||"Houve um erro ao listar mensagens do Agostinho";yield this.utilsCtrl.mostrarToast(n)}}))}carregarMaisMensagens(t){return Object(s.a)(this,void 0,void 0,(function*(){yield this.inicializaPagina(),t.target.complete()}))}}return t.\u0275fac=function(n){return new(n||t)(c.Kb(d),c.Kb(l.a),c.Kb(b.a))},t.\u0275cmp=c.Eb({type:t,selectors:[["app-agostinho"]],decls:7,vars:1,consts:[[1,"ion-no-border"],["slot","start"],[1,"avatar-wrapper"],["icon","demolay"],["class","agostinho-wrapper",4,"ngIf"],[1,"agostinho-wrapper"],[1,"badge-cargo"],[1,"mensagens"],["ngFor","",3,"ngForOf"],["threshold","100px",3,"ionInfinite",4,"ngIf"],[1,"mensagem-item"],[1,"avatar-mensagem"],[1,"mensagem-box"],[1,"mensagem-hora"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","dots"]],template:function(t,n){1&t&&(c.Nb(0,"ion-header",0),c.Nb(1,"ion-toolbar"),c.Lb(2,"ion-back-button",1),c.Mb(),c.Mb(),c.Nb(3,"ion-content"),c.Nb(4,"div",2),c.Lb(5,"app-button-demolay",3),c.Mb(),c.kc(6,m,6,3,"div",4),c.Mb()),2&t&&(c.zb(6),c.cc("ngIf",n.mensagensAgostinho))},directives:[a.l,a.F,a.d,a.e,a.h,u.a,o.j,o.i,a.n,a.o],pipes:[o.d],styles:[".avatar-wrapper[_ngcontent-%COMP%]{width:100px;margin:0 auto 16px}.agostinho-wrapper[_ngcontent-%COMP%]   .badge-cargo[_ngcontent-%COMP%]{background-color:#38bd5e;color:#333;text-align:center;padding:8px 0;font-weight:700;text-transform:uppercase}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]{margin:16px auto;width:calc(100% - 32px)}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]   .mensagem-item[_ngcontent-%COMP%]{display:flex}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]   .mensagem-item[_ngcontent-%COMP%]   .avatar-mensagem[_ngcontent-%COMP%]{min-width:70px;max-width:70px;margin:8px 16px 0 0}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]   .mensagem-item[_ngcontent-%COMP%]   .mensagem-box[_ngcontent-%COMP%]{background-color:#535353;padding:8px 16px;color:#fff;border-radius:0 4px 4px 4px;width:100%;font-size:12px}.agostinho-wrapper[_ngcontent-%COMP%]   .mensagens[_ngcontent-%COMP%]   .mensagem-hora[_ngcontent-%COMP%]{font-size:10px;text-align:right;display:block;margin:6px 0 8px}"]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(n){return new(n||t)},imports:[[r.i.forChild(f)],r.i]}),t})();var v=e("j1ZV");let C=(()=>{class t{}return t.\u0275mod=c.Ib({type:t}),t.\u0275inj=c.Hb({factory:function(n){return new(n||t)},imports:[[o.b,i.a,a.G,M,v.a]]}),t})()}}]);